<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://api-maps.yandex.ru/v3/?apikey=122cc2d8-cfc2-4b95-8482-ab66964ffb28&lang=ru_RU"></script>
  <link rel="stylesheet" href="/static/css/device_map.css">

  <script>
    initMap();

    async function initMap() {
      await ymaps3.ready;

      const {
        YMap,
        YMapDefaultSchemeLayer,
        YMapDefaultFeaturesLayer,
        YMapControls,
      } = ymaps3;

      const { YMapDefaultMarker } = await ymaps3.import(
        "@yandex/ymaps3-markers@0.0.1"
      );

      const { YMapGeolocationControl } = await ymaps3.import(
        "@yandex/ymaps3-controls@0.0.1"
      );

      const map = new YMap(document.getElementById("map"), {
        location: {
          center: [25.229762, 55.289311],
          zoom: 10,
        },
        controls: ["routeButtonControl"],
      });

      map.addChild(new YMapDefaultSchemeLayer());
      map.addChild(new YMapDefaultFeaturesLayer());

      /*ymaps3.geolocation.getPosition().then((pos) => {
        console.log(pos);
      });*/

      /*const markerElement = document.createElement("div");
      markerElement.className = "icon-marker";
      markerElement.innerText = "I'm marker!";

      const marker = new YMapMarker(
        {
          coordinates: [25.229762, 55.289311]
        },
        markerElement
      );

      map.addChild(marker);*/

      /*map.addChild(
        new YMapDefaultMarker({
          coordinates: [25.229762, 55.289311],
          title: "Hello World!",
          subtitle: "kind and bright",
          color: "blue",
        })
      );*/

      map.addChild(
        // Using YMapControls you can change the position of the control
        new YMapControls({ position: "left" })
          // Add the geolocation control to the map
          .addChild(new YMapGeolocationControl({}))
      );
    }
  </script>

  <title>Карта | WISH</title>
</head>

<body>
  <div id="map"></div>
</body>

</html>